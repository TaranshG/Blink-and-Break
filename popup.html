<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blink & Break</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="app">

    <!-- â”€â”€ Break Active View â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="breakView" class="view" style="display:none">
      <div class="break-container">
        <div class="break-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
        </div>
        <h2 id="breakTitle">Eye Break Time!</h2>
        <p id="breakMessage">Look at something 20 feet away</p>

        <div class="break-timer-container">
          <div id="breakTimer" class="break-timer">20</div>
          <div class="break-timer-label">seconds</div>
        </div>

        <div id="breakComplete" class="break-complete" style="display:none">
          <div class="complete-icon">âœ“</div>
          <div class="complete-text" id="completeText">All done!</div>
          <div class="achievement-badge" id="achievementBadge" style="display:none"></div>
        </div>

        <div class="break-actions">
          <button id="snoozeBreakBtn" class="snooze-break-btn">Snooze</button>
          <button id="skipBreakBtn"   class="skip-break-btn">Not now</button>
          <button id="turnOffBtnBreak" class="danger-btn" title="Turn off breaks">
            Turn off
          </button>
        </div>
      </div>
    </div>

    <!-- â”€â”€ Main View â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="mainView" class="view">
      <div class="header">
        <div class="logo">
          <svg class="icon-eye" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          <h1>Blink &amp; Break</h1>
        </div>
        <button id="settingsBtn" class="icon-btn" title="Settings">
          <svg
  viewBox="0 0 24 24"
  width="20"
  height="20"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
>
  <circle cx="12" cy="12" r="3" />
  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .69.28 1.35.77 1.83.48.48 1.14.77 1.83.77H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1Z" />
</svg>
        </button>
      </div>

      <div class="next-break-card">
        <div class="card-header">
          <span>Next break in</span>
          <div class="card-header-actions">
            <button id="resetBtn" class="icon-btn reset-btn" title="Reset timer">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="1 4 1 10 7 10"></polyline>
                <path d="M3.51 15a9 9 0 1 0 .49-4.95"></path>
              </svg>
            </button>
            <button id="toggleBtn" class="icon-btn" title="Pause">
              <svg id="pauseIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
              </svg>
              <svg id="playIcon" style="display:none" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
              </svg>
            </button>
          </div>
        </div>
        <div id="nextBreakTime" class="timer">20:00</div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div id="statusText" class="status-text">Active</div>
      </div>

      <!-- Eye Pet -->
      <div class="eye-pet-card">
        <div class="pet-container">
          <div class="pet-bubble" id="petBubble">Hi! I'm your eye buddy!</div>
          <div class="pet-sprite" id="petSprite">
            <div class="pet-body">
              <div class="pet-eye left-eye"></div>
              <div class="pet-eye right-eye"></div>
              <div class="pet-mouth" id="petMouth">â—¡</div>
            </div>
          </div>
          <div class="pet-name" id="petName">Eye Buddy</div>
        </div>
        <div class="pet-stats">
          <div class="pet-level">
            <span class="level-label">Level</span>
            <span class="level-value" id="petLevel">1</span>
          </div>
          <div class="pet-xp-bar">
            <div class="pet-xp-fill" id="petXPFill"></div>
            <span class="xp-text" id="petXPText">0/100 XP</span>
          </div>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div id="breaksToday" class="stat-value">0</div>
          <div class="stat-label">Today</div>
        </div>
        <div class="stat-card">
          <div id="totalBreaks" class="stat-value">0</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-card">
          <div id="eyeScore" class="stat-value">100</div>
          <div class="stat-label">Wellness</div>
        </div>
      </div>

      <div id="motivationCard" class="motivation-card" style="display:none">
        <div class="motivation-icon">âœ¨</div>
        <div id="motivationText" class="motivation-text"></div>
      </div>

      <div class="tips-card">
        <h3>
          <svg class="tip-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          Quick Tips
        </h3>
        <ul>
          <li>ğŸ‘ï¸ Look at something 20 feet away</li>
          <li>ğŸ’§ Blink fully to refresh your eyes</li>
          <li>ğŸ“ Keep your screen at arm's length</li>
          <li>ğŸ’¡ Match screen brightness to surroundings</li>
        </ul>
      </div>

      <div class="footer-card">
        <div class="footer-info">
          <div class="footer-name">Built by Taransh</div>
          <div class="footer-sub">Questions or glitches? I'll fix it fast.</div>
        </div>
        <div class="footer-links">
          <a href="https://www.linkedin.com/in/taransh-goyal-6a52b8296/" target="_blank" rel="noopener noreferrer" class="footer-link footer-link--blue">LinkedIn â†—</a>
          <a href="https://forms.gle/QAdW4YE3gHEoK4e16" target="_blank" rel="noopener noreferrer" class="footer-link footer-link--green">Report bug</a>
        </div>
      </div>
    </div>

    <!-- â”€â”€ Settings View â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="settingsView" class="view" style="display:none">
      <div class="header">
        <h2>Settings</h2>
        <button id="closeSettingsBtn" class="icon-btn" title="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>

      <div class="settings-content">
        <div class="setting-item">
          <label for="intervalInput">Reminder Interval (minutes)</label>
          <input type="number" id="intervalInput" min="1" max="1440" value="20">
          <span class="input-hint">How often to remind you (1â€“1440 minutes)</span>
        </div>

        <div class="setting-item">
          <label for="durationInput">Break Duration (seconds)</label>
          <input type="number" id="durationInput" min="5" max="300" value="20">
          <span class="input-hint">How long each break should last (5â€“300 seconds)</span>
        </div>

        <div class="setting-item">
          <label for="snoozeInput">Snooze Duration (minutes)</label>
          <input type="number" id="snoozeInput" min="1" max="120" value="5">
          <span class="input-hint">How long to delay when you snooze (1â€“120 minutes)</span>
          <button id="turnOffBtn" class="danger-btn">
            ğŸ”• Turn off breaks
          </button>
        </div>

        <div class="toggle-item">
          <div class="toggle-label">
            <span>Blink Reminders</span>
            <span class="toggle-description">Show blink exercise during breaks</span>
          </div>
          <div class="toggle" id="blinkToggle"><div class="toggle-slider"></div></div>
        </div>

        <div class="toggle-item">
          <div class="toggle-label">
            <span>Dark Mode</span>
            <span class="toggle-description">Easier on the eyes in low light</span>
          </div>
          <div class="toggle" id="darkModeToggle"><div class="toggle-slider"></div></div>
        </div>

        <div class="toggle-item">
          <div class="toggle-label">
            <span>Sound Notifications</span>
            <span class="toggle-description">Play sound when break starts</span>
          </div>
          <div class="toggle active" id="soundToggle"><div class="toggle-slider"></div></div>
        </div>

        <div id="soundSettings" class="sound-settings">
          <label>Notification Sound</label>

          <button class="sound-option active" data-sound="gentle-bell">
            <span>ğŸ”” Gentle Bell</span>
            <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
          </button>
          <button class="sound-option" data-sound="soft-chime">
            <span>ğŸµ Soft Chime</span>
            <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
          </button>
          <button class="sound-option" data-sound="calm-tone">
            <span>ğŸ§˜ Calm Tone</span>
            <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
          </button>
          <button class="sound-option" data-sound="nature-bird">
            <span>ğŸ¦ Nature Sound</span>
            <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
          </button>

          <!-- Custom upload disabled in MV3 -->
          <div class="coming-soon-box">
            <span>ğŸ“ Custom Sound Upload</span>
            <span class="coming-soon-badge">Coming soon!</span>
          </div>

          <button id="testSoundBtn" class="test-sound-btn">ğŸ”Š Test Sound</button>
          <button id="testNotificationBtn" class="test-sound-btn" style="margin-top:8px;background:#10b981;color:#fff;border-color:#10b981;">ğŸ”” Test Notification</button>
        </div>

        <button id="saveBtn" class="save-btn">Save Settings</button>
        <div id="saveStatus" class="save-status"></div>

        <div class="footer-card">
          <div class="footer-info">
            <div class="footer-name">Built by Taransh</div>
            <div class="footer-sub">Questions or glitches? I'll fix it fast.</div>
          </div>
          <div class="footer-links">
            <a href="https://www.linkedin.com/in/taransh-goyal-6a52b8296/" target="_blank" rel="noopener noreferrer" class="footer-link footer-link--blue">LinkedIn â†—</a>
            <a href="https://forms.gle/QAdW4YE3gHEoK4e16" target="_blank" rel="noopener noreferrer" class="footer-link footer-link--green">Report bug</a>
          </div>
        </div>
      </div>
    </div>

  </div>
  <script src="sounds.js"></script>
  <script src="popup.js"></script>
</body>
</html>